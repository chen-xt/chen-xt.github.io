<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="一步一步向前走">
<meta property="og:type" content="website">
<meta property="og:title" content="陈小婷的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="陈小婷的博客">
<meta property="og:description" content="一步一步向前走">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="陈小婷的博客">
<meta name="twitter:description" content="一步一步向前走">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>陈小婷的博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">陈小婷的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">前端开发</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/17/github和gitblit并存/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chen-xt">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈小婷的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/17/github和gitblit并存/" itemprop="url">github和gitblit并存</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-09-17T15:45:33+08:00">
                2019-09-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Git/" itemprop="url" rel="index">
                    <span itemprop="name">Git</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&emsp;&emsp;由于工作需要</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/01/16/qrcode生成二维码/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chen-xt">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈小婷的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/16/qrcode生成二维码/" itemprop="url">qrcode生成二维码</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-01-16T00:32:49+08:00">
                2019-01-16
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>&emsp;&emsp;js生成二维码有两种方法：分别是用qrcode.js和jquery.qrcode.js。</p>
<h2 id="qrcode"><a href="#qrcode" class="headerlink" title="qrcode"></a>qrcode</h2><p>&emsp;&emsp;qrcode.js 是一个用于生成二维码图片的插件，主要是通过获取DOM的标签，再通过 HTML5 Canvas 绘制而成，不依赖任何库，<strong>支持中文内容</strong>。</p>
<h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><ol>
<li><p>载入js文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;qrcode.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>DOM 结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;code&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>调用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// 简单方式</span><br><span class="line">new QRCode(document.getElementById(&apos;code&apos;), &apos;https://www.baidu.com/&apos;);</span><br><span class="line"></span><br><span class="line">// 设置参数方式</span><br><span class="line">var qrcode = new QRCode(&apos;code&apos;, &#123;</span><br><span class="line">    text: &apos;hello world!&apos;,</span><br><span class="line">    width: 200,</span><br><span class="line">    height: 200,</span><br><span class="line">    colorDark : &apos;#000&apos;,</span><br><span class="line">    colorLight : &apos;#fff&apos;,</span><br><span class="line">    correctLevel : QRCode.CorrectLevel.H</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// 使用 API</span><br><span class="line">qrcode.clear();</span><br><span class="line">qrcode.makeCode(&apos;哈哈哈&apos;);</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a>参数说明</h3><p>&emsp;&emsp;格式：<strong>new QRCode(element, option)</strong></p>
<ol>
<li>element：显示二维码的元素或该元素的id</li>
<li>option：参数配置，有以下几个参数：<br>（1）text：设置二维码的内容；<br>（2）width：设置二维码宽度，默认值是256；<br>（3）height：设置二维码高度，默认值是256；<br>（4）colorDark：设置前景色，默认值是”#000”<br>（5）colorLight：设置背景色，默认值是”#fff”<br>（6）typeNumber: 设置计算模式，默认值是4<br>（7）correctLevel : 设置容错级别，默认值是QRErrorCorrectLevel.H，可设置为QRCode.CorrectLevel.L(容错率7%)、QRCode.CorrectLevel.M(容错率15%)、QRCode.CorrectLevel.Q(容错率25%)、QRCode.CorrectLevel.H(容错率30%)；<br>注意：二维码容错率即是指二维码图标被遮挡多少后，仍可以被扫描出来的能力。容错率越高，则二维码图片能被遮挡的部分越多。容错率越高，越容易被快速扫描。因此推荐使用QRErrorCorrectLevel.H。</li>
</ol>
<h3 id="API接口"><a href="#API接口" class="headerlink" title="API接口"></a>API接口</h3><ol>
<li><strong>makeCode(text)</strong>：设置二维码内容</li>
<li><strong>clear()</strong>：清除二维码（仅在不支持 Canvas 的浏览器下有效）</li>
</ol>
<h3 id="参考网址"><a href="#参考网址" class="headerlink" title="参考网址"></a>参考网址</h3><ul>
<li><a href="http://code.ciaoca.com/javascript/qrcode/" target="_blank" rel="noopener">参考网址</a></li>
</ul>
<h2 id="jquery-qrcode-js"><a href="#jquery-qrcode-js" class="headerlink" title="jquery.qrcode.js"></a>jquery.qrcode.js</h2><p>&emsp;&emsp;jquery.qrcode.js 是把qrcode.js用jquery方式封装起来的，用它来实现图形渲染，其实就是画图（支持canvas和table两种方式）默认是canvas，canvas方式还支持右键图片下载，<strong>不支持中文内容</strong>。</p>
<h3 id="使用方法-1"><a href="#使用方法-1" class="headerlink" title="使用方法"></a>使用方法</h3><ol>
<li><p>载入js文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;jquery.qrcode.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>DOM 结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;code&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>调用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 简单方式</span><br><span class="line">// $(&quot;#code&quot;).qrcode(&quot;hi,chen!&quot;);</span><br><span class="line"></span><br><span class="line">// 直接生成二维码</span><br><span class="line">$(&quot;#code&quot;).qrcode(&#123;</span><br><span class="line">    render: &quot;canvas&quot;, //渲染方式</span><br><span class="line">    width: 200,  //宽度</span><br><span class="line">    height: 200, //高度</span><br><span class="line">    text: &quot;https://www.baidu.com/&quot;, //内容</span><br><span class="line">    background: &quot;#fff&quot;,  //背景色  </span><br><span class="line">    foreground: &quot;#000&quot;,   //前景色(二维码的颜色)</span><br><span class="line">    correctLevel: 1,  //容错级别</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="参数说明-1"><a href="#参数说明-1" class="headerlink" title="参数说明"></a>参数说明</h3><p>（1）render:  设置渲染方式，支持canvas和table两种方式，默认是canvas；<br>（2）text：设置二维码的内容<br>（3）width：设置二维码宽度，默认值是256；<br>（4）height：设置二维码高度，默认值是256；<br>（5）foreground: 设置前景色，默认值是”#000”<br>（6）background: 设置背景色，默认值是”#fff”<br>（7）correctLevel : 设置容错级别<br>（8）typeNumber  : 设置计算模式</p>
<h3 id="生成二维码图片"><a href="#生成二维码图片" class="headerlink" title="生成二维码图片"></a>生成二维码图片</h3><ol>
<li><p>载入js文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;jquery.qrcode.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>DOM 结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;code&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;img id=&quot;imgOne&quot; src=&quot;&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>调用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//生成二维码图片</span><br><span class="line">var qrcode = $(&apos;#code&apos;).qrcode(&quot;https://www.baidu.com/&quot;).hide();</span><br><span class="line">var canvas = qrcode.find(&apos;canvas&apos;).get(0);</span><br><span class="line">$(&apos;#imgOne&apos;).attr(&apos;src&apos;,canvas.toDataURL(&apos;image/jpg&apos;));</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="解决无法生成中文二维码的问题"><a href="#解决无法生成中文二维码的问题" class="headerlink" title="解决无法生成中文二维码的问题"></a>解决无法生成中文二维码的问题</h3><p>&emsp;&emsp;jquery-qrcode这个库是采用 charCodeAt() 这个方式进行编码转换的，这个方法默认会获取它的Unicode编码，一般的解码器都是采用UTF-8, ISO-8859-1等方式。英文是没有问题，如果是中文，一般情况下Unicode是UTF-16实现，长度2位，而UTF-8编码是3位，这样二维码的编解码就不匹配了。 所以可以在二维码编码前把字符串转换成UTF-8，就可以解决这个问题了。<br>&emsp;&emsp;相关代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">$(&quot;#code&quot;).qrcode(&#123;</span><br><span class="line">      render: &quot;canvas&quot;, //渲染方式</span><br><span class="line">      width: 200,  //宽度</span><br><span class="line">      height: 200, //高度</span><br><span class="line">      text: utf16to8(&quot;你好啊&quot;), //内容</span><br><span class="line">      background: &quot;#fff&quot;,  //背景色  </span><br><span class="line">      foreground: &quot;#000&quot;,   //前景色(二维码的颜色)</span><br><span class="line">      correctLevel: 1,  //容错级别</span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line">// 编码转换函数</span><br><span class="line">  function utf16to8(str) &#123;  </span><br><span class="line">      var out, i, len, c;  </span><br><span class="line">      out = &quot;&quot;;  </span><br><span class="line">      len = str.length;  </span><br><span class="line">      for(i = 0; i &lt; len; i++) &#123;  </span><br><span class="line">      c = str.charCodeAt(i);  </span><br><span class="line">      if ((c &gt;= 0x0001) &amp;&amp; (c &lt;= 0x007F)) &#123;  </span><br><span class="line">          out += str.charAt(i);  </span><br><span class="line">      &#125; else if (c &gt; 0x07FF) &#123;  </span><br><span class="line">          out += String.fromCharCode(0xE0 | ((c &gt;&gt; 12) &amp; 0x0F));  </span><br><span class="line">          out += String.fromCharCode(0x80 | ((c &gt;&gt;  6) &amp; 0x3F));  </span><br><span class="line">          out += String.fromCharCode(0x80 | ((c &gt;&gt;  0) &amp; 0x3F));  </span><br><span class="line">      &#125; else &#123;  </span><br><span class="line">          out += String.fromCharCode(0xC0 | ((c &gt;&gt;  6) &amp; 0x1F));  </span><br><span class="line">          out += String.fromCharCode(0x80 | ((c &gt;&gt;  0) &amp; 0x3F));  </span><br><span class="line">      &#125;  </span><br><span class="line">      &#125;  </span><br><span class="line">      return out;  </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="参考网址-1"><a href="#参考网址-1" class="headerlink" title="参考网址"></a>参考网址</h3><ul>
<li><a href="https://github.com/jeromeetienne/jquery-qrcode" target="_blank" rel="noopener">参考网址</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/01/09/跨域/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chen-xt">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈小婷的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/09/跨域/" itemprop="url">跨域</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-01-09T22:01:16+08:00">
                2019-01-09
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="什么是同源策略"><a href="#什么是同源策略" class="headerlink" title="什么是同源策略"></a>什么是同源策略</h2><p>&emsp;&emsp;限制一个源加载的文档或脚本与来自另一个源的资源进行交互。要求源相同才能正常进行通信，即协议、域名、端口号（HTTP协议的默认端口是80）都完全一致。</p>
<h2 id="同源策略限制的内容及原因"><a href="#同源策略限制的内容及原因" class="headerlink" title="同源策略限制的内容及原因"></a>同源策略限制的内容及原因</h2><h3 id="限制不同源发请求"><a href="#限制不同源发请求" class="headerlink" title="限制不同源发请求"></a>限制不同源发请求</h3><p>&emsp;&emsp;不能向工作在不同源的的服务请求数据(client to server)。<br>&emsp;&emsp;<strong>原因：</strong>假设用户登陆了a.com，同时打开了b.com，如果没有任何限制，b.com可以向a.com请求到任何信息，进而就可以在b.com向a发转账请求等。这里是限制了读u，而没有限制写，因为如果连请求都发不出去了，也就无法做跨域资源共享了，无法读取返回结果，b就无法继续下一步的操作，如获取转账请求的一些必要的验证信息。</p>
<h3 id="限制跨域的DOM读取"><a href="#限制跨域的DOM读取" class="headerlink" title="限制跨域的DOM读取"></a>限制跨域的DOM读取</h3><p>&emsp;&emsp;无法获取不同源的document/cookie等BOM和DOM，可以说任何有关另外一个源的信息都无法得到 (client to client)。<br>&emsp;&emsp;<strong>原因：</strong>如果不限制的话，那么很容易就可以伪装其它的网站，如套一个iframe或者通过window.open的方法，从而得到用户的操作和输入，如账户、密码。<br>&emsp;&emsp;<strong>小技巧：</strong>添加这个http头—“X-Frame-Options: SAMEORIGIN”，可以限制别人把你的网站套成它的iframe。</p>
<h2 id="什么是跨域"><a href="#什么是跨域" class="headerlink" title="什么是跨域"></a>什么是跨域</h2><p>&emsp;&emsp;跨域是由浏览器的同源策略引起的，只有源(协议、域名、端口号)相同才能正常进行通信，域名、端口、协议任一不同，都是跨域。跨域只存在于浏览器端，不存在于安卓/ios/Node.js/python/ java等其它环境。以下列举几种情况都属于跨域：</p>
<ol>
<li><p>同一域名，不同协议</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.a.com/b.js ---&gt; http://www.a.com/a.js</span><br></pre></td></tr></table></figure>
</li>
<li><p>域名和域名对应ip</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://70.32.92.74/b.js  ---&gt; http://www.a.com/a.js</span><br></pre></td></tr></table></figure>
</li>
<li><p>同一域名，不同端口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.a.com:8000/a.js  ---&gt; http://www.a.com/b.js</span><br></pre></td></tr></table></figure>
</li>
<li><p>不同域名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.cnblogs.com/a.js  ---&gt; http://www.a.com/b.js</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="跨域的解决"><a href="#跨域的解决" class="headerlink" title="跨域的解决"></a>跨域的解决</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/06/HTML媒体捕获实例/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chen-xt">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈小婷的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/06/HTML媒体捕获实例/" itemprop="url">HTML媒体捕获实例</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-06T23:06:21+08:00">
                2018-11-06
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/html5/" itemprop="url" rel="index">
                    <span itemprop="name">html5</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="accept属性"><a href="#accept属性" class="headerlink" title="accept属性"></a>accept属性</h2><p>&emsp;&emsp;规定了可通过文件上传提交的服务器接受的文件类型，仅适用于<code>&lt;input type=&quot;file&quot;&gt;</code>。</p>
<ol>
<li><p><code>audio/*</code> ：接受所有的声音文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;file&quot; accept=&quot;audio/*&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>video/*</code> ：接受所有的视频文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;file&quot; accept=&quot;video/*&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>image/*</code> ：接受所有的图像文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;file&quot; accept=&quot;image/*&quot;&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="capture属性"><a href="#capture属性" class="headerlink" title="capture属性"></a>capture属性</h2><p>&emsp;&emsp;可以捕获到系统默认的设备。</p>
<ol>
<li><p><code>camera</code> ：照相机。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;file&quot; accept=&quot;image/*&quot; capture=&quot;camera&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>camcorder</code> ：摄像机。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;file&quot; accept=&quot;video/*&quot; capture=&quot;camcorder&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>microphone</code> ：录音。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;file&quot; accept=&quot;audio/*&quot; capture=&quot;microphone&quot;&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>&emsp;&emsp;注：<code>input:file</code>标签有个<code>multiple</code>属性，表示可以支持多选。加了这个属性，<code>capture</code>就没效果了。</p>
<h2 id="常见例子"><a href="#常见例子" class="headerlink" title="常见例子"></a>常见例子</h2><ol>
<li><p>调用拍照：微信环境及浏览器环境下，苹果手机、安卓手机均可以拍照。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type =”file”  accept =”image / *”  capture&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>调用录像：微信环境及浏览器环境下，苹果手机、安卓手机均可以录像。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type =”file”  accept =”video / *”  capture&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>调用音频：微信环境，苹果手机、安卓手机均可以调起录音机和文件；浏览器环境，苹果手机、安卓手机均只能调起录音机。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type =”file”  accept =”audio / *”  capture&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>高级用例：在标记中指定capture属性，并通过XMLHttpRequest在脚本中处理文件上载。微信环境及浏览器环境下，苹果手机、安卓手机均可以拍照。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type =”file”  accept =”image / *”  capture&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>无capture：微信环境，苹果手机、安卓手机均可以调起拍照和文件；浏览器环境，苹果手机可以调起拍照和相册，安卓手机可以调起拍照和文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type =”file”  accept =”image / *”&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>无capture：微信环境，苹果手机、安卓手机均可以调起文件；浏览器环境，苹果手机可以调起拍照、相册和文件，安卓手机可以调起拍照和文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type =”file”&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="浏览器环境判断"><a href="#浏览器环境判断" class="headerlink" title="浏览器环境判断"></a>浏览器环境判断</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var ua = navigator.userAgent.toLowerCase();//获取浏览器的userAgent</span><br><span class="line">if(ua.match(/MicroMessenger/i) == &quot;micromessenger&quot;) &#123;</span><br><span class="line">    // true为微信环境</span><br><span class="line">    alert(&quot;微信环境&quot;);</span><br><span class="line">&#125;</span><br><span class="line">else&#123;</span><br><span class="line">   // false为浏览器环境</span><br><span class="line">    alert(&quot;浏览器环境&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="苹果、安卓设备判断"><a href="#苹果、安卓设备判断" class="headerlink" title="苹果、安卓设备判断"></a>苹果、安卓设备判断</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">   var ua = navigator.userAgent.toLowerCase();//获取浏览器的userAgent</span><br><span class="line">var isIos = (ua.indexOf(&apos;iphone&apos;) != -1) || (ua.indexOf(&apos;ipad&apos;) != -1);</span><br><span class="line">   if (isIos) &#123;</span><br><span class="line">       //true为苹果</span><br><span class="line">   alert(&quot;苹果手机&quot;);</span><br><span class="line">   &#125;</span><br><span class="line">   else&#123;</span><br><span class="line">       // false为安卓</span><br><span class="line">       alert(&quot;安卓手机&quot;);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h2 id="参考地址"><a href="#参考地址" class="headerlink" title="参考地址"></a>参考地址</h2><ul>
<li><a href="http://anssiko.github.io/html-media-capture/" target="_blank" rel="noopener">参考网址1</a></li>
<li><a href="https://blog.csdn.net/bbt_yyc/article/details/78337501" target="_blank" rel="noopener">参考网址2</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/31/layer弹层组件之移动版/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="chen-xt">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="陈小婷的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/31/layer弹层组件之移动版/" itemprop="url">layer弹层组件之移动版</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-31T22:19:47+08:00">
                2017-08-31
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/layer/" itemprop="url" rel="index">
                    <span itemprop="name">layer</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>&emsp;&emsp;layer弹层组件分移动版和PC版，这边主要讲的是移动版的layer，PC版的后续再进行补充。移动版是为移动设备量身定做的弹层UI，并且完全独立于PC版的layer。与PC版的layer不同的是，移动版的layer只提供一个核心调用方法，即<code>layer.open(options)</code>，通过对参数<code>options</code>进行设置来实现各种不同的弹层。</p>
<h2 id="快速上手"><a href="#快速上手" class="headerlink" title="快速上手"></a>快速上手</h2><p>&emsp;&emsp;第一步，下载。要去<a href="http://layer.layui.com/mobile/" target="_blank" rel="noopener">官网</a>下载layer的相关文件，主要是<code>layer.js</code>文件，<code>layer.css</code>文件可以根据需要引入，但是<code>layer.js</code>文件是必需的。<br>&emsp;&emsp;第二步，引入。将layer的相关文件引入项目中，这里需要注意的是，不能去挪动layer里面的文件结构，因为它们是不可拆散的组合，直接整个引入就可以。由于layer是基于jQuery的，在引入<code>layer.js</code>文件之前，必须先引入<strong>jQuery1.8</strong>或以上版本。<br>&emsp;&emsp;第三步，使用。下面是一个简单的layer弹层例子。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">	&lt;head&gt;</span><br><span class="line">	  &lt;title&gt;开始使用layer&lt;/title&gt;</span><br><span class="line">	&lt;/head&gt;</span><br><span class="line">	&lt;body&gt;</span><br><span class="line">	  &lt;button id=&quot;test&quot;&gt;小小提示层&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">	  &lt;script src=&quot;jQuery的路径&quot;&gt;&lt;/script&gt;</span><br><span class="line">	  &lt;script src=&quot;layer.js的路径&quot;&gt;&lt;/script&gt;</span><br><span class="line">	  &lt;script&gt;</span><br><span class="line">		$(&apos;#test&apos;).on(&apos;click&apos;, function()&#123;</span><br><span class="line">		  layer.open(&#123;</span><br><span class="line">			type: 1,</span><br><span class="line">			area: [&apos;600px&apos;, &apos;360px&apos;],</span><br><span class="line">			shadeClose: true, //点击遮罩关闭</span><br><span class="line">			content: &apos;\&lt;\div style=&quot;padding:20px;&quot;&gt;自定义内容\&lt;\/div&gt;&apos;</span><br><span class="line">		  &#125;);</span><br><span class="line">		&#125;);</span><br><span class="line">	  &lt;/script&gt;</span><br><span class="line">	&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><p>&emsp;&emsp;这里所谈到的参数指的就是核心接口<code>layer.open(options)</code>中的<strong>options</strong>。</p>
<h3 id="type"><a href="#type" class="headerlink" title="type"></a>type</h3><p>&emsp;&emsp;type参数用于设置弹层的类型。其类型为<code>Number</code>型，默认值为<code>0</code>（<strong>0</strong>表示信息框，<strong>1</strong>表示页面层，<strong>2</strong>表示加载层）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type: 1</span><br></pre></td></tr></table></figure>

<h3 id="content"><a href="#content" class="headerlink" title="content"></a>content</h3><p>&emsp;&emsp;content参数用于设置弹层内容。其类型为<code>String</code>型，这个参数为必选参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">content:  &apos;layer弹层组件&apos;</span><br></pre></td></tr></table></figure>

<h3 id="title"><a href="#title" class="headerlink" title="title"></a>title</h3><p>&emsp;&emsp;title参数用于设置弹层标题。其类型为<code>String</code>型或<code>Array</code>型，默认值为<code>空</code>，值可以为字符串或者数组，为空则不显示。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//格式</span><br><span class="line">	title: &apos;标题&apos;</span><br><span class="line">	title: [&apos;标题&apos;, &apos;background-color: #eee;&apos;] //第二个参数可以自定义标题的样式 </span><br><span class="line"></span><br><span class="line">//举例</span><br><span class="line">	title:  &apos;layer&apos;</span><br><span class="line">	title:  [&apos;layer&apos;, &apos;color: #eee;&apos;]</span><br></pre></td></tr></table></figure>

<h3 id="time"><a href="#time" class="headerlink" title="time"></a>time</h3><p>&emsp;&emsp;time参数用于控制自动关闭层所需秒数。其类型为<code>Number</code>型，默认不开启，支持整数和浮点数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">time:  5  //5秒后关闭</span><br></pre></td></tr></table></figure>

<h3 id="style"><a href="#style" class="headerlink" title="style"></a>style</h3><p>&emsp;&emsp;style参数用于设置自定义层的样式。其类型为<code>String</code>型。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">style:  &apos;border:none; background-color:#78BA32; color:#fff;&apos;</span><br></pre></td></tr></table></figure>

<h3 id="skin"><a href="#skin" class="headerlink" title="skin"></a>skin</h3><p>&emsp;&emsp;skin参数用于设定弹层显示风格。其类型为<code>String</code>型，目前支持配置<code>footer</code>(即底部对话框风格)、<code>msg</code>(普通提示)两种风格。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">skin: &apos;footer&apos;</span><br></pre></td></tr></table></figure>

<h3 id="className"><a href="#className" class="headerlink" title="className"></a>className</h3><p>&emsp;&emsp;className参数用于自定义一个css类。其类型为<code>String</code>型，用于自定义样式。自定义一个css类后，就可以在css里面通过设置这个类的样式来控制该弹层的风格。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">className:  &apos;modal&apos;</span><br></pre></td></tr></table></figure>

<h3 id="btn"><a href="#btn" class="headerlink" title="btn"></a>btn</h3><p>&emsp;&emsp;btn参数用于设置按钮。其类型为<code>String</code>型或<code>Array</code>型，不设置则不显示按钮。如果只需要一个按钮，则<code>btn: &#39;按钮&#39;</code>，如果有两个，则<code>btn: [&#39;按钮一&#39;, &#39;按钮二&#39;]</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//设置两个按钮</span><br><span class="line">btn:  [&apos;马上开启&apos;,&apos;稍后再说&apos; ]</span><br></pre></td></tr></table></figure>

<h3 id="anim"><a href="#anim" class="headerlink" title="anim"></a>anim</h3><p>&emsp;&emsp;anim参数用于设置动画类型。其类型为<code>String</code>型或<code>Boolean</code>型，可支持的支持两种动画配置<code>scale</code>(默认)和<code>up</code>(从下往上弹出)，如果不开启动画，设置<code>false</code>即可。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">anim:  &apos;up&apos;</span><br></pre></td></tr></table></figure>

<h3 id="shade"><a href="#shade" class="headerlink" title="shade"></a>shade</h3><p>&emsp;&emsp;shade参数用于控制遮罩展现。其类型为<code>String</code>型或<code>Boolean</code>型，默认为<code>true</code>，显示遮罩，并且可以自定义遮罩风格。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shade:  &apos;background-color: rgba(0,0,0,.6) &apos;  //遮罩的颜色以及透明度</span><br></pre></td></tr></table></figure>

<h3 id="shadeClose"><a href="#shadeClose" class="headerlink" title="shadeClose"></a>shadeClose</h3><p>&emsp;&emsp;shadeClose参数用于设置点击遮罩时是否关闭层。其类型为<code>Boolean</code>型，默认为<code>true</code>，即点击遮罩时关闭层。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shadeClose:  false  //点击遮罩时不关闭层</span><br></pre></td></tr></table></figure>

<h3 id="fixed-amp-amp-top"><a href="#fixed-amp-amp-top" class="headerlink" title="fixed &amp;&amp;  top"></a>fixed &amp;&amp;  top</h3><p>&emsp;&emsp;fixed参数用于设置是否固定层的位置，需要与top参数一起使用。其类型为<code>Boolean</code>型，默认为<code>true</code>，不固定层的位置。而top参数用于控制层的纵坐标，其类型为<code>Number</code>型，默认为<code>无</code>，一般情况下不需要设置，因为层会始终垂直水平居中，只有当<code>fixed: false</code>时top才有效。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fixed : false,</span><br><span class="line">top: 10</span><br></pre></td></tr></table></figure>

<h3 id="success-amp-amp-end"><a href="#success-amp-amp-end" class="headerlink" title="success &amp;&amp;  end"></a>success &amp;&amp;  end</h3><p>&emsp;&emsp;success参数用于设置层成功弹出层的回调，该回调参数返回一个参数为当前层元素对象。其类型为<code>Function</code>型。end参数与success参数用法类似，只是它刚好与success参数相反，是用于设置层彻底销毁后的回调函数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//格式</span><br><span class="line">	success: function(elem)&#123;</span><br><span class="line">		console.log(elem);   //弹层成功弹出时候提示弹出	</span><br><span class="line">	&#125;</span><br><span class="line">	end: function(elem)&#123;</span><br><span class="line">		console.log(elem);   //弹层销毁时提示销毁</span><br><span class="line">	&#125;</span><br><span class="line">//举例</span><br><span class="line">	success: function()&#123;</span><br><span class="line">		alert(&apos;弹出&apos;);   </span><br><span class="line">	&#125;,</span><br><span class="line">	end:function(index)&#123;</span><br><span class="line">		  alert(&quot;销毁&quot;); </span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h3 id="yes-amp-amp-no"><a href="#yes-amp-amp-no" class="headerlink" title="yes &amp;&amp;  no"></a>yes &amp;&amp;  no</h3><p>&emsp;&emsp;yes参数用于设置点击确定按钮触发的回调函数，返回一个参数为当前层的索引。其类型为<code>Function</code>型。no参数与yes参数用法类似，只是它刚好与yes参数相反，用于设置点击取消按钮触发的回调函数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//格式：</span><br><span class="line">	yes: function(index)&#123;</span><br><span class="line">	  alert(&apos;点击了是&apos;)</span><br><span class="line">	  layer.close(index)</span><br><span class="line">	&#125;</span><br><span class="line">	no: function(index)&#123;</span><br><span class="line">	  alert(&apos;点击了否&apos;)</span><br><span class="line">	  layer.close(index)</span><br><span class="line">	&#125;</span><br><span class="line">//举例</span><br><span class="line">	yes: function()&#123;  //点击确定时候弹出“好的”提示</span><br><span class="line">	    layer.open(&#123;</span><br><span class="line">	      content: &apos;好的&apos;</span><br><span class="line">	      ,time: 2</span><br><span class="line">	      ,skin: &apos;msg&apos;</span><br><span class="line">	    &#125;);</span><br><span class="line">	&#125;,</span><br><span class="line">	no: function(index)&#123;			  </span><br><span class="line">		window.location.href=&quot;https://www.baidu.com/&quot;; //点击取消跳转到必应</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="其它内置方法-属性"><a href="#其它内置方法-属性" class="headerlink" title="其它内置方法/属性"></a>其它内置方法/属性</h2><h3 id="layer-v"><a href="#layer-v" class="headerlink" title="layer.v"></a>layer.v</h3><p>&emsp;&emsp;layer.v用于返回当前使用的layer mobile版本号。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yes: function(index)&#123;</span><br><span class="line">    alert(layer.v);   //弹出“2.0”，当前的版本为2.0</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h3 id="layer-close-index"><a href="#layer-close-index" class="headerlink" title="layer.close(index)"></a>layer.close(index)</h3><p>&emsp;&emsp;layer.close(index)用于关闭特定层，index为该特定层的索引。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yes: function(index)&#123;</span><br><span class="line">	layer.close(index);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="layer-closeAll"><a href="#layer-closeAll" class="headerlink" title="layer.closeAll()"></a>layer.closeAll()</h3><p>&emsp;&emsp;layer.closeAll()用于关闭页面所有layer的层。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yes: function(index)&#123;</span><br><span class="line">    layer.closeAll();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><ol>
<li><p>信息框</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">layer.open(&#123;</span><br><span class="line">    content: &apos;我是layer移动版&apos;,</span><br><span class="line">    btn: &apos;知道了&apos;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>提示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">layer.open(&#123;</span><br><span class="line">    content: &apos;你好&apos;,</span><br><span class="line">    skin: &apos;msg&apos;,</span><br><span class="line">    time: 3 //3秒后自动关闭</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>询问框</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">layer.open(&#123;</span><br><span class="line">    content: &apos;您确定要刷新一下本页面吗？&apos;,</span><br><span class="line">    btn: [&apos;刷新&apos;, &apos;不要&apos;],</span><br><span class="line">    yes: function(index)&#123;</span><br><span class="line">      location.reload();</span><br><span class="line">      layer.close(index);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>底部对话框</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">layer.open(&#123;</span><br><span class="line">    content: &apos;这是一个底部弹出的询问提示&apos;,</span><br><span class="line">    btn: [&apos;删除&apos;, &apos;取消&apos;],</span><br><span class="line">    skin: &apos;footer&apos;,</span><br><span class="line">    yes: function(index)&#123;</span><br><span class="line">      layer.open(&#123;content: &apos;执行删除操作&apos;&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>页面层</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">layer.open(&#123;</span><br><span class="line">    type: 1,</span><br><span class="line">    content: &apos;可传入任何内容，支持html。一般用于手机页面中&apos;,</span><br><span class="line">    anim: &apos;up&apos;,</span><br><span class="line">    style: &apos;position:fixed; bottom:0; left:0; width: 100%; height: 200px; padding:10px 0; border:none;&apos;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>loading带文字</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">layer.open(&#123;</span><br><span class="line">    type: 2,</span><br><span class="line">    content: &apos;加载中&apos; //如果没有content的话，则只有几个加载的小圆点</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="参考地址"><a href="#参考地址" class="headerlink" title="参考地址"></a>参考地址</h2><ul>
<li><a href="http://layer.layui.com/mobile/api.html" target="_blank" rel="noopener">参考网址</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/head.jpg" alt="chen-xt">
            
              <p class="site-author-name" itemprop="name">chen-xt</p>
              <p class="site-description motion-element" itemprop="description">一步一步向前走</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">33</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">31</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">chen-xt</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
